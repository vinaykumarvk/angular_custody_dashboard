<div class="app-container">
  <nav class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <button class="toggle-btn" (click)="toggleSidebar()">
      <span class="toggle-icon">â˜°</span>
    </button>
    <ul class="menu">
      <li class="menu-item">
        <span class="menu-text">Operations Dashboard</span>
      </li>
    </ul>
  </nav>
  <div class="main-content" [class.expanded]="isSidebarCollapsed">
    <header>
      <h1>{{title}}</h1>
    </header>
    <div class="content">
      <div class="section">
        <div class="section-header">
          <h2>Activities</h2>
        </div>
        <div class="activities-container">
          <div class="activity-column">
            <h3>To be Approved (174)</h3>
            <div class="activity-item" [routerLink]="['/detail']" role="button">
              <span>Client</span>
              <span>20</span>
            </div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">
              <span>Client Exchange</span>
              <span>30</span>
            </div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">
              <span>Client Depository</span>
              <span>1</span>
            </div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">
              <span>Party</span>
              <span>34</span>
            </div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">
              <span>Bank Account</span>
              <span>89</span>
            </div>
          </div>
          <div class="activity-column">
            <h3>Processes Done Today</h3>
            <div class="activity-item" [routerLink]="['/detail']" role="button">SEBI Message</div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">Global settlement</div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">Price upload</div>
          </div>
          <div class="activity-column">
            <h3>Processes Due Today</h3>
            <div class="activity-item" [routerLink]="['/detail']" role="button">DP instructions</div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">MFTS</div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">Early Payout Report</div>
            <div class="activity-item" [routerLink]="['/detail']" role="button">Fund Obligation Report</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-header">
          <h2>Exceptions</h2>
        </div>

        <!-- Holdings Section -->
        <h3 class="subsection-header">Holdings</h3>
        <div class="cards-container">
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Pending Reconciliation & Valuation</h3>
            <span class="number">64</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Unmatched Inventory RDCs</h3>
            <span class="number">8</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Positions mismatch OSLs</h3>
            <span class="number">12</span>
          </div>
        </div>

        <!-- Trades Section -->
        <h3 class="subsection-header">Trades</h3>
        <div class="cards-container">
          <div class="card" [routerLink]="['/trades', 'UNMAPPED']" role="button">
            <h3>Unmapped</h3>
            <span class="number">{{unmappedTrades.length}}</span>
          </div>
          <div class="card" [routerLink]="['/trades', 'UNMAPPED']" role="button">
            <h3>Misport</h3>
            <span class="number">{{unmappedTrades.length}}</span>
          </div>
          <div class="card" [routerLink]="['/trades', 'SETTLED']" role="button">
            <h3>Settled</h3>
            <span class="number">{{settledTrades.length}}</span>
          </div>
        </div>

        <!-- Communication Section -->
        <h3 class="subsection-header">Communication</h3>
        <div class="cards-container">
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Mails Sent</h3>
            <span class="number">64</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Mails Not Sent</h3>
            <span class="number">73</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Report Failure</h3>
            <span class="number">5</span>
          </div>
        </div>

        <!-- Corporate Actions Section -->
        <h3 class="subsection-header">Corporate Actions</h3>
        <div class="cards-container">
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>New Event due Today</h3>
            <span class="number">68</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Events Payment Due Today</h3>
            <span class="number">62</span>
          </div>
        </div>

        <!-- Tickets Section -->
        <h3 class="subsection-header">Tickets</h3>
        <div class="cards-container">
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Tickets Breached Limit</h3>
            <span class="number">27</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Tickets closed due today</h3>
            <span class="number">14</span>
          </div>
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Other open tickets</h3>
            <span class="number">31</span>
          </div>
        </div>

        <!-- Payments Section -->
        <h3 class="subsection-header">Payments</h3>
        <div class="cards-container">
          <div class="card" [routerLink]="['/detail']" role="button">
            <h3>Pending Payments</h3>
            <span class="number">42</span>
          </div>
        </div>
      </div>

      <div class="section trades">
        <h3>Trades</h3>
        <div class="cards">
          <div class="card" *ngFor="let trade of unmappedTrades">
            <a [routerLink]="['/trade', trade.id]" class="card-link">
              <h4>Unmapped Trade</h4>
              <p>{{trade.securityName}}</p>
              <p>{{trade.tradeId}}</p>
            </a>
          </div>
          <div class="card" *ngFor="let trade of mappedTrades">
            <a [routerLink]="['/trade', trade.id]" class="card-link">
              <h4>Mapped Trade</h4>
              <p>{{trade.securityName}}</p>
              <p>{{trade.tradeId}}</p>
            </a>
          </div>
          <div class="card" *ngFor="let trade of settledTrades">
            <a [routerLink]="['/trade', trade.id]" class="card-link">
              <h4>Settled Trade</h4>
              <p>{{trade.securityName}}</p>
              <p>{{trade.tradeId}}</p>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
